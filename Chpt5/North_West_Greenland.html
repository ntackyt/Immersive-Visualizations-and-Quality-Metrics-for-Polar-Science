<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Fence Vis - A-Frame</title>
    <meta name="description" content="Fence Vis - A-Frame">
    
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="aframe_js/aframe-camera-transform-controls-component.js"></script>
    <script src="aframe_js/loadPlanes.js"></script>
    <script src="aframe_js/plane-select-component.js"></script>
    <script src="aframe_js/opacity-controls.js"></script>
    <script src="aframe_js/draw-annotate.js"></script>
    
    <!-- https://github.com/elbobo/aframe-multisrc-component -->
    <script src="https://cdn.rawgit.com/elbobo/aframe-multisrc-component/b6d23310/dist/0.3/aframe-multisrc-component.js"></script>
    <!-- <script src="aframe_js/combined-camera-plane.js"></script> -->
    <!-- <script src="aframe_js/aframe-stereo-component.min.js"></script> -->
    
    <!-- https://github.com/fernandojsg/aframe-camera-transform-controls-component -->
    <!-- Try to look at planes -->
    <!-- <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script> -->
    <script src="aframe_js/aframe-look-at-component.js"></script>

    <script>
      
      // https://stackoverflow.com/questions/41727501/how-to-detect-when-a-scene-is-loaded-in-a-frame
      
      AFRAME.registerComponent("myscene", {
        init: async function (){ 
          
          await loadPlanes("NW_GREENLAND");
          console.log("called Load planes - reg comp");
          
        }
        
      });
      // console.log(navigator.getGamepads())
      
    </script>

  </head>
  <body>
    <a-scene id="scene" 
    myscene 
    camera-transform-controls 
    plane-select
    opacity-controls
    draw-annotate
    > 
    <!-- 
      camera-plane-controls
      ="showHint:false"
    -->
      <div id="assets">
        <img id="sky" src="galaxy-half.jpg">
      </div>

      <a-entity id="cameraRig" >
        <!-- camera -->
        <a-camera id="camera" camera wasd-controls="fly:True" look-controls orbit-controls look-at=""></a-camera>
        <!-- Hand Controls -->
        <a-entity id="lefthand" 
        vive-controls="hand: left" 
        oculus-touch-controls="hand: left" 
        windows-motion-controls="hand: left" 
        laser-controls="hand: left" 
        raycaster="objects: .clickable" 
        camera-transform-controls-hand="hand:left" 
        plane-select-hand="hand: left"
        ></a-entity> 
        <!-- draw-annotate-hand="hand: left" -->
        <!-- camera-plane-controls-hand="hand: left" -->
        <!-- hand-controls="hand: left; handModelStyle: lowPoly; color: #ffcccc" -->

        <a-entity id="righthand" 
        vive-controls="hand: right" 
        oculus-touch-controls="hand: right" 
        windows-motion-controls="hand: right" 
        laser-controls="hand: right" 
        raycaster="objects: .clickable" 
        camera-transform-controls-hand="hand:right" 
        draw-annotate-hand="hand: right"
        ></a-entity>
        <!-- plane-select-hand="hand: right" --> 
        <!-- opacity-controls -->
        <!-- camera-plane-controls-hand="hand: right" -->
        <!-- something went wrong when i split it appart... idk what -->
        <!-- hand-controls="hand: right; handModelStyle: lowPoly; color: #ffcccc" -->
      </a-entity>

      <a-entity id = "worldWrapper">
        <!-- <a-box id="box" color="tomato" depth="2" height="4" width="0.5" position="1 1 1" visible="true"></a-box> -->
        <a-entity id="placePlanes">
  
        </a-entity>
      </a-entity>

    </a-scene>
  </body>
</html>

