<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Fence Vis - A-Frame</title>
    <meta name="description" content="Fence Vis - A-Frame">
    
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="aframe_js/aframe-camera-transform-controls-component.js"></script>
    <script src="aframe_js/loadPlanes.js"></script>
    <script src="aframe_js/plane_select.js"></script>
    <script src="aframe_js/plane-select-component.js"></script>
    <script src="aframe_js/opacity-controls.js"></script>
    <script src="aframe_js/draw-annotate.js"></script>
    <script src="https://cdn.rawgit.com/elbobo/aframe-multisrc-component/b6d23310/dist/0.3/aframe-multisrc-component.js"></script>
    <script src="aframe_js/aframe-look-at-component.js"></script>
    <!-- <script src="aframe_js/aframe-stereo-component.min.js"></script> -->
    

    <!-- https://github.com/fernandojsg/aframe-camera-transform-controls-component -->

    <script>
      
      // https://stackoverflow.com/questions/41727501/how-to-detect-when-a-scene-is-loaded-in-a-frame
      
      AFRAME.registerComponent("myscene", {
        init: async function (){ 
          
          await loadPlanes("NE_GREENLAND");
          console.log("called Load planes - reg comp");
          
        }
        
      });

      
    </script>

  </head>
  <body>
    <a-scene id="scene" 
    camera-transform-controls 
    myscene
    plane-select
    opacity-controls
    draw-annotate
    >
      <div id="assets">
        <img id="sky" src="galaxy-half.jpg">
      </div>

      <a-entity id="cameraRig" mycamera>
        <!-- camera -->
        <a-camera id="camera" camera wasd-controls="fly:True" look-controls orbit-controls  look-at=""></a-camera>
        <!-- Hand Controls -->
        <a-entity id="lefthand" 
        vive-controls="hand: left" 
        oculus-touch-controls="hand: left" 
        windows-motion-controls="hand: left" 
        laser-controls="hand: left" 
        raycaster="objects: .clickable" 
        camera-transform-controls-hand="hand:left" 
        plane-select-hand="hand: left"
        ></a-entity>
        
        <a-entity id="righthand" 
        vive-controls="hand: right" 
        oculus-touch-controls="hand: right" 
        windows-motion-controls="hand: right" 
        laser-controls="hand: right" 
        raycaster="objects: .clickable" 
        camera-transform-controls-hand="hand:right" 
        draw-annotate-hand="hand: right"
        ></a-entity>

      </a-entity>

      
      <a-entity id = "worldWrapper">
        <a-entity id="placePlanes">
  
        </a-entity>
      </a-entity>

    </a-scene>
  </body>
</html>
